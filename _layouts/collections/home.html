---
layout: default
---
{%- capture workspace_collections -%}
  {%- comment -%}
    License note from S0AndS0; an editor in this context.

    Minima (where the following code is sourced from), is shared under the
    MIT Lisense, https://github.com/jekyll/minima/blob/master/LICENSE.txt

    Thus any alterations to Minima source code is re-shared under the MIT Lisense
  {%- endcomment -%}

  {%- assign collection_name = page.collection_name | default: include.collection_name | default: nil -%}
  {%- assign target_collection = site[collection_name] -%}
  {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}


  <div class="home">
    {%- if page.title -%}
      <h1 class="page-heading">{{- page.title -}}</h1>
    {%- endif -%}

    {{- content -}}

    {%- assign has_output = False -%}
    {%- assign has_atom_feed = False -%}
    {%- assign has_rss_feed = False -%}
    {%- if target_collection.size > 0 -%}{%- comment -%}<br> syntax highlighting  work-around #{%- endcomment -%}
      {%- capture workspace_collection -%}
        <h2 class="post-list-heading">{{- page.list_title | default: "Posts" -}}</h2>
        <ul class="post-list">
          {%- for post in target_collection -%}
            {%- if page.relative_path == post.relative_path -%}
              {%- continue -%}
            {%- elsif post.slug == 'feed' -%}
              {%- if post.ext == '.xml' -%}
                {%- assign has_rss_feed = True -%}
              {%- elsif post.ext == '.atom' -%}
                {%- assign has_atom_feed = True -%}
              {%- endif -%}
              {%- continue -%}
            {%- endif -%}
            {%- assign has_output = True -%}

            <li>
              <span class="post-meta">{{- post.date | date: date_format -}}</span>
              <h3>
                <a class="post-link" href="{{- post.url | relative_url -}}">
                  {{- post.title | escape -}}
                </a>
              </h3>
              {%- if post.description -%}
                <blockquote>
                  {{- post.description | markdownify | remove: '<p>' | remove: '</p>' -}}
                </blockquote>
              {%- elsif site.show_excerpts and post.excerpt -%}
                <blockquote>
                  {{- post.excerpt | markdownify | remove: '<p>' | remove: '</p>' -}}
                </blockquote>
              {%- endif -%}
            </li>
          {%- endfor -%}
        </ul>
      {%- endcapture -%}

      {%- comment -%}
        Note for future _includes/header.html modifications

        <link
         rel="alternate"
         title="{{- collection_name -}}"
         type="application/atom+xml"
         href="{{- collection_name | append: '/feed.atom' | relative_url -}}"
        />
      {%- endcomment -%}

      {%- if has_output == True -%}
        {{- workspace_collection -}}{%- assign workspace_collection = nil -%}

        {%- if has_rss_feed == True or has_atom_feed == True -%}
          <p class="feed-subscribe">
            {%- if has_rss_feed == True -%}
              <span>
                <svg class="svg-icon orange">
                  <use xlink:href="{{- '/assets/minima-social-icons.svg#rss' | relative_url -}}"></use>
                </svg>
                <a href="{{- collection_name | append: '/feed.xml' | relative_url -}}">RSSv2</a>
              </span>
            {%- endif -%}

            {% if has_atom_feed == True %}
              <span>
                {% if has_rss_feed != True %}
                  <svg class="svg-icon orange">
                    <use xlink:href="{{- '/assets/minima-social-icons.svg#rss' | relative_url -}}"></use>
                  </svg>
                {% else %}or {% endif %}
                <a href="{{- collection_name | append: '/feed.atom' | relative_url -}}">Atom</a>
              </span>
            {% endif %}
          </p>
        {%- endif -%}
      {%- endif -%}

    {%- endif -%}
  </div>
{%- endcapture -%}{{- workspace_collections | strip -}}{%- assign workspace_collections = nil -%}
